:root{
  --bg:#0a0f14;
  --panel:#0f151c; --panel2:#0c1218;
  --surface:#121a23;
  --ring:rgba(255,255,255,.08); --ring-2:rgba(255,255,255,.18);
  --text:#eaf2ff; --muted:#c9d6e6; --dim:#a8b5c6;
  --accent:#5ce1ff; --accent-2:#2dd4bf;
  --ok:#42d392; --beta:#74c3ff; --warn:#faba4a;
  --shadow:0 16px 46px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.03);
  --radius:16px;
  --mono:ui-monospace,SFMono-Regular,Consolas,Menlo,monospace;
  --sans:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,"Noto Sans",Arial;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:
    radial-gradient(1200px 900px at -10% 0%, #14212d 0%, transparent 55%) no-repeat,
    radial-gradient(1200px 900px at 110% -20%, #0f2030 0%, transparent 55%) no-repeat,
    var(--bg);
  color:var(--text); font-family:var(--sans); line-height:1.55;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
.page{min-height:100vh;display:flex;flex-direction:column}

/* ===== Brand header (Premium Hero) ===== */
.top.hero{
  position:relative;
  padding:28px 20px 18px;
  margin:0;
  isolation:isolate;
}

/* glassy hero card */
.top.hero .hero-inner{
  position:relative;
  border:1px solid var(--ring);
  border-radius:calc(var(--radius) + 6px);
  padding:18px;
  background:
    radial-gradient(1200px 700px at -18% -40%, rgba(92,225,255,.08), transparent 60%) no-repeat,
    radial-gradient(1100px 600px at 120% 10%, rgba(45,212,191,.08), transparent 60%) no-repeat,
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow:var(--shadow);
  backdrop-filter:blur(6px);
}

/* subtle accent glows */
.top.hero .hero-inner::before,
.top.hero .hero-inner::after{
  content:""; position:absolute; inset:auto;
  filter:blur(18px); opacity:.55; pointer-events:none; z-index:-1;
}
.top.hero .hero-inner::before{
  width:240px; height:240px; left:-80px; top:-80px; border-radius:50%;
  background:radial-gradient(closest-side, rgba(92,225,255,.18), transparent 70%);
}
.top.hero .hero-inner::after{
  width:260px; height:260px; right:-90px; bottom:-90px; border-radius:50%;
  background:radial-gradient(closest-side, rgba(45,212,191,.16), transparent 70%);
}

.brand{display:flex; align-items:center; gap:18px; min-width:0}
.logo-wrap{display:grid; place-items:center}

/* logo with neon ring (desktop baseline) */
.logo{
  width:64px;height:64px;border-radius:16px;overflow:hidden;
  background:#0e1620;border:1px solid var(--ring);
  box-shadow:0 0 0 6px rgba(92,225,255,.05), 0 10px 36px rgba(0,0,0,.48);
  position:relative; flex:0 0 auto;
}
.logo.ring::after{
  content:""; position:absolute; inset:-2px; border-radius:inherit;
  background:conic-gradient(from 160deg,
    rgba(92,225,255,.35), rgba(45,212,191,.25), rgba(92,225,255,.35));
  /* Standard + vendor masks to carve the inner hole of the ring */
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask-composite: exclude;             /* Standard syntax (Firefox) */
  -webkit-mask-composite: xor;         /* WebKit syntax */
  padding:2px; pointer-events:none; opacity:.8;
}
.logo picture, .logo img{display:block;width:100%;height:100%}
.logo img{object-fit:contain; padding:6px}

/* XL displays — gentle upscale */
@media (min-width:1400px){
  .logo{ width:72px; height:72px; border-radius:18px }
}

/* Mobile — compact but premium */
@media (max-width:900px){
  .brand{gap:12px}
  .logo{ width:48px; height:48px; border-radius:12px }
  .logo img{ padding:5px }
}

/* title */
.title-wrap{min-width:0}
.hero-title{margin:0 0 6px 0; line-height:1}
.hero-title span{
  font-size:28px; font-weight:800; letter-spacing:.2px;
  background:linear-gradient(90deg, #eaf2ff 0%, #bff5ff 40%, #a9ffee 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow:0 2px 14px rgba(92,225,255,.08);
}

/* owner + updated pills */
.ownerline{
  margin-top:2px; display:flex; flex-wrap:wrap; align-items:center; gap:10px;
  color:var(--dim); font-size:13px;
}
.owner-tag{
  display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
  background:linear-gradient(180deg, var(--surface), #0f1721); border:1px solid var(--ring); text-decoration:none; color:inherit
}
.owner-name{font-weight:750; color:#d6edff}
.updated-pill{
  display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
  background:linear-gradient(180deg, var(--surface), #0f1721); border:1px solid var(--ring); color:var(--dim);
}
.dot{width:6px;height:6px;border-radius:50%;background:var(--accent);box-shadow:0 0 0 2px rgba(92,225,255,.16)}
.dot-pulse{position:relative}
.dot-pulse::after{
  content:""; position:absolute; inset:-6px;
  border-radius:50%;
  animation:dotPulse 1.8s ease-out infinite;
  border:2px solid rgba(92,225,255,.25);
}
@keyframes dotPulse{
  0%{transform:scale(.4); opacity:.8}
  70%{transform:scale(1.8); opacity:0}
  100%{transform:scale(1.8); opacity:0}
}

/* chips row inside hero */
.hero-chips{
  margin-top:10px; display:flex; flex-wrap:wrap; gap:10px; align-items:center;
}
.chip{
  display:inline-flex; align-items:center; gap:8px; padding:7px 12px; border-radius:999px; white-space:nowrap;
  background:linear-gradient(180deg, rgba(92,225,255,.16), rgba(92,225,255,.10));
  border:1px solid rgba(92,225,255,.28); color:#e7fbff; font-size:12px; font-weight:650;
  text-decoration:none;
}
.chip small{color:#c8e8ff; opacity:.9}
.chip.stat{
  background:linear-gradient(180deg, rgba(45,212,191,.16), rgba(45,212,191,.10));
  border-color:rgba(45,212,191,.30);
}
.chip.link{
  background:linear-gradient(180deg,#1b2330,#121821);
  border-color:var(--ring);
  color:var(--text);
}
.chip.link:hover{border-color:var(--ring-2)}

/* responsive tweaks for hero */
@media (max-width: 900px){
  .top.hero{padding:20px 14px 10px}
  .top.hero .hero-inner{padding:14px}
  .hero-title span{font-size:24px}
}

/* ===== Toolbar ===== */
.main{flex:1;display:grid;grid-template-rows:auto auto 1fr;gap:14px;padding:8px 20px 24px;min-height:0}
.toolbar{
  display:flex;flex-wrap:wrap;gap:10px;align-items:center;
  background:linear-gradient(180deg,var(--panel),var(--panel2));
  border:1px solid var(--ring);border-radius:var(--radius);box-shadow:var(--shadow);
  padding:12px 12px 12px 14px
}
.toolbar .spacer{flex:1}
.input, select, .btn{
  background:var(--surface);color:var(--text);border:1px solid var(--ring);
  border-radius:12px;padding:10px 12px;outline:none
}
.input{min-width:200px}
.btn{
  appearance:none;cursor:pointer;font-weight:650;
  background:linear-gradient(180deg,#1b2330,#121821);
  transition:transform .06s ease, border-color .12s ease, box-shadow .12s ease;
}
.btn:hover{border-color:var(--ring-2)}
.btn:active{transform:translateY(1px)}
.btn:focus-visible{outline:2px solid var(--accent); outline-offset:2px}
.btn.ok{background:linear-gradient(180deg,#13281c,#0f1a13);border-color:rgba(66,211,146,.36)}
.btn.ghost{background:transparent}

/* ===== Endpoints panel ===== */
.endpoints{
  background:linear-gradient(180deg,var(--panel),var(--panel2));
  border:1px solid var(--ring); border-radius:var(--radius); box-shadow:var(--shadow);
  padding:14px; display:grid; gap:12px;
}
.ep-controls{display:flex; gap:12px; align-items:center; flex-wrap:wrap}
.ep-label{color:var(--dim); font-size:12px}

/* Custom dark picker */
.picker{position:relative}
.picker[aria-expanded="false"] .picker-panel{display:none}
.picker-btn{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  min-width:280px;padding:10px 12px;border-radius:12px;border:1px solid var(--ring);
  background:var(--surface);color:var(--text);cursor:pointer
}
.picker-btn .value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.picker-btn svg{flex:0 0 auto;opacity:.8;transition:transform .18s ease}
.picker[aria-expanded="true"] .picker-btn svg{transform:rotate(180deg)}
.picker-panel{
  position:absolute;inset:auto 0 auto 0;top:calc(100% + 6px);
  background:linear-gradient(180deg,var(--panel),var(--panel2));
  border:1px solid var(--ring);border-radius:12px;box-shadow:var(--shadow);z-index:20;
  padding:10px;display:grid;gap:8px;
}
.picker-search{background:var(--surface);color:var(--text);border:1px solid var(--ring);border-radius:10px;padding:8px 10px}
.picker-list{
  max-height:260px;overflow:auto;border:1px solid var(--ring);border-radius:10px;
  background:var(--surface);padding:6px
}
.picker-item{
  padding:8px 10px;border-radius:8px;cursor:pointer;display:flex;gap:8px;align-items:center
}
.picker-item:hover,.picker-item[aria-selected="true"]{background:rgba(255,255,255,.06)}
.picker-item small{color:var(--dim)}

/* dark scrollbars */
.picker-list, .ep-scroll, .scroll{
  scrollbar-width:thin; scrollbar-color:#314052 transparent;
}
.picker-list::-webkit-scrollbar, .ep-scroll::-webkit-scrollbar, .scroll::-webkit-scrollbar{height:10px;width:10px}
.picker-list::-webkit-scrollbar-track, .ep-scroll::-webkit-scrollbar-track, .scroll::-webkit-scrollbar-track{background:transparent;border-radius:10px}
.picker-list::-webkit-scrollbar-thumb, .ep-scroll::-webkit-scrollbar-thumb, .scroll::-webkit-scrollbar-thumb{
  background:#324153;border-radius:10px;border:2px solid transparent;background-clip:content-box
}

/* Endpoint rows */
.ep-row{display:grid; grid-template-columns:1fr auto; gap:10px; align-items:center}
.ep-code{
  position:relative;
  font-family:var(--mono); font-size:13px; color:#cff2ff;
  background:var(--surface); border:1px solid var(--ring); border-radius:10px;
  overflow:hidden;
}
.ep-scroll{
  display:flex; align-items:center;
  padding:10px 12px;
  overflow:auto; white-space:nowrap;
  padding-right:120px; /* space for fixed actions */
}
.ep-code::after{
  content:""; position:absolute; top:0; right:88px; width:60px; height:100%;
  pointer-events:none;
  background:linear-gradient(90deg, rgba(0,0,0,0), var(--surface));
}
.ep-actions{
  position:absolute; top:50%; right:6px; transform:translateY(-50%);
  display:flex; gap:6px; z-index:2;
}
.icon-btn{
  width:32px;height:32px;border-radius:8px;border:1px solid var(--ring);
  display:grid;place-items:center;background:linear-gradient(180deg,#1b2330,#121821);
  color:var(--text); cursor:pointer;
}
.icon-btn:hover{border-color:var(--ring-2)}
.icon-btn:focus-visible{outline:2px solid var(--accent); outline-offset:2px}
.ep-note{color:var(--dim); font-size:12px; margin-top:-2px}

/* ===== Desktop table ===== */
.table-wrap{
  background:linear-gradient(180deg,var(--panel),var(--panel2));
  border:1px solid var(--ring); border-radius:var(--radius); box-shadow:var(--shadow);
  display:grid; grid-template-rows:auto 1fr; min-height:0
}
.table-head{padding:12px 16px;border-bottom:1px solid var(--ring); color:var(--dim); font-size:13px}
.scroll{overflow:auto; min-height:0}
table{width:100%;border-collapse:separate;border-spacing:0;font-size:14px}
thead th{
  position:sticky;top:0;background:linear-gradient(180deg,var(--panel),var(--panel2));
  text-align:left;padding:14px 16px;color:var(--dim);font-weight:600;border-bottom:1px solid var(--ring);z-index:1
}
tbody td{padding:14px 16px;border-bottom:1px solid var(--ring)}
tbody tr:hover td{background:rgba(255,255,255,.02)}
.id{font-family:var(--mono);color:var(--dim)}
.mono{font-family:var(--mono)}  /* used by table cells and mobile labels */
.links a{color:var(--accent);text-decoration:none}
.links a:hover{text-decoration:underline}
.pill{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;border:1px solid var(--ring);font-size:12px}
.pill.ok{background:rgba(66,211,146,.12);color:#cfeedd;border-color:rgba(66,211,146,.28)}
.pill.beta{background:rgba(116,195,255,.12);color:#d8ecff;border-color:rgba(116,195,255,.28)}

/* Column widths */
#apps-table th.col-app{width:26%}
#apps-table th.col-track{width:12%}
#apps-table th.col-version{width:12%}
#apps-table th.col-code{width:12%}
#apps-table th.col-date{width:16%}
/* .col-id and .col-links flex to fill remainder gracefully */

/* ===== Mobile LIST (no icons), expandable card rows ===== */
.m-list{
  display:none;
  width:100%;
  padding:0;
  margin:0;
  list-style:none;
}
.m-item{
  list-style:none;
  background:linear-gradient(180deg,var(--panel),var(--panel2));
  border:1px solid var(--ring);
  border-radius:14px;
  box-shadow:var(--shadow);
  padding:12px;
  display:grid;
  gap:10px;
}
.m-top{
  display:grid;
  grid-template-columns:1fr auto auto;
  gap:12px;
  align-items:center;
}
.m-name{
  font-weight:800;
  font-size:16px;
  letter-spacing:.2px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.m-meta{
  display:flex;
  gap:10px;
  align-items:center;
  color:var(--dim);
  font-size:12px;
}
.m-ver{font-family:var(--mono)}
.m-code{
  font-family:var(--mono);
  font-weight:800;
  letter-spacing:.3px;
  padding:4px 8px;
  border-radius:8px;
  background:rgba(92,225,255,.10);
  border:1px solid rgba(92,225,255,.25);
  color:#d8f6ff;
}
.chev{
  width:36px;height:36px;
  border-radius:999px;
  border:1px solid var(--ring);
  display:grid;place-items:center;
  background:var(--surface);
  cursor:pointer;
}
.chev svg{transition:transform .18s ease}
.m-item[aria-expanded="true"] .chev svg{transform:rotate(180deg)}
.m-details{display:none}
.m-item[aria-expanded="true"] .m-details{display:block}
.m-grid{
  display:grid;
  grid-template-columns:110px 1fr;
  gap:6px 12px;
  font-size:13px;
}
.m-label{color:var(--dim)}
.m-actions{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
.btn-mini{
  display:inline-flex; align-items:center; gap:6px;
  font-size:12px; padding:6px 10px;
  border-radius:999px; border:1px solid var(--ring);
  background:var(--surface); color:var(--text);
  cursor:pointer;
}
.m-divider{height:1px;background:var(--ring); margin:8px 0}

/* ===== Notice Footer (premium) — improved layout & chips ===== */
.footer{padding:0 20px 24px}
.footer-card{
  position:relative;
  background:linear-gradient(180deg,var(--panel),var(--panel2));
  border:1px solid var(--ring);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:16px;
  color:var(--dim);
  font-size:14px;
  line-height:1.7;
  overflow:hidden;
}
/* soft glows */
.footer-card::before,
.footer-card::after{
  content:""; position:absolute; pointer-events:none; z-index:0; filter:blur(20px); opacity:.55;
}
.footer-card::before{
  width:220px;height:220px; left:-70px; top:-70px; border-radius:50%;
  background:radial-gradient(closest-side, rgba(92,225,255,.16), transparent 70%);
}
.footer-card::after{
  width:220px;height:220px; right:-70px; bottom:-70px; border-radius:50%;
  background:radial-gradient(closest-side, rgba(45,212,191,.14), transparent 70%);
}

/* header row uses grid so chips can sit to the right on desktop */
.foot-head{
  position:relative; z-index:1;
  display:grid;
  grid-template-columns: 1fr auto;
  gap:12px;
  align-items:center;
  padding-bottom:12px;
  border-bottom:1px solid var(--ring);
}
.foot-title{display:flex; align-items:center; gap:10px; min-width:0}
.foot-icon{
  width:28px;height:28px; display:grid; place-items:center; border-radius:8px;
  background:linear-gradient(180deg,#1b2330,#121821); border:1px solid var(--ring); color:#bfefff;
}
.foot-heading{
  font-weight:800; letter-spacing:.2px;
  background:linear-gradient(90deg,#eaf2ff 0%, #bff5ff 40%, #a9ffee 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  white-space:nowrap;
}
.badge{
  display:inline-flex; align-items:center; padding:4px 10px; border-radius:999px;
  background:linear-gradient(180deg, rgba(92,225,255,.12), rgba(92,225,255,.08));
  border:1px solid rgba(92,225,255,.28); color:#dbf7ff; font-weight:650; font-size:11px;
}

/* endpoint chips — colorful, accessible, tidy align */
.foot-actions{
  display:flex; flex-wrap:wrap; gap:8px; justify-content:flex-end;
}
.foot-chip{
  position:relative;
  display:inline-flex; align-items:center;
  padding:6px 12px;
  border-radius:999px;
  font-weight:750; letter-spacing:.25px;
  text-decoration:none;
  border:1px solid transparent;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.06), 0 6px 22px rgba(0,0,0,.28);
  transition:transform .06s ease, border-color .15s ease, box-shadow .15s ease, filter .15s ease;
  color:#0b1216;
}
.foot-chip:focus-visible{outline:2px solid var(--accent); outline-offset:2px}
.foot-chip:hover{transform:translateY(1px); filter:saturate(1.05)}

/* per-chip colors using order */
.foot-actions .foot-chip:nth-child(1){ /* JSON */
  background:linear-gradient(180deg,#88f0ff,#43d6ff);
  border-color:rgba(92,225,255,.45);
}
.foot-actions .foot-chip:nth-child(2){ /* TXT */
  background:linear-gradient(180deg,#d9e3ef,#b7c6db);
  border-color:rgba(200,220,240,.55);
  color:#0a1016;
}
.foot-actions .foot-chip:nth-child(3){ /* INI */
  background:linear-gradient(180deg,#79f0df,#3ad8c2);
  border-color:rgba(45,212,191,.45);
}
.foot-actions .foot-chip:nth-child(4){ /* CODE */
  background:linear-gradient(180deg,#bcd0ff,#8fb1ff);
  border-color:rgba(140,170,255,.5);
}

/* content grid */
.foot-grid{
  position:relative; z-index:1;
  display:grid; gap:16px; padding-top:12px;
}
.foot-col{min-width:0}
.foot-col p{margin:0}

/* Desktop: two sensible columns that won't collapse */
@media (min-width: 900px){
  .foot-grid{
    grid-template-columns: minmax(440px, 1.4fr) minmax(420px, 1fr);
    align-items:start;
  }
}

/* Bullet list — flex for stable wrapping */
.foot-list{
  margin:0; padding:0; list-style:none; display:grid; gap:10px;
}
.foot-list li{
  display:flex; align-items:flex-start; gap:12px;
  line-height:1.7;
  overflow-wrap:break-word;
}
.foot-list li::before{
  content:""; width:8px; height:8px; flex:0 0 8px;
  border-radius:50%;
  background:radial-gradient(closest-side, var(--accent), rgba(92,225,255,.12));
  margin-top:.55em;
}
.foot-list li strong{
  color:#eaf2ff; font-weight:750; margin-right:6px;
}

/* meta strip */
.foot-meta{
  position:relative; z-index:1;
  margin-top:16px; padding-top:12px; border-top:1px solid var(--ring);
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  color:var(--muted);
}
.foot-link{color:var(--accent); text-decoration:none}
.foot-link:hover{text-decoration:underline}

/* mobile tuning */
@media (max-width:900px){
  .footer{padding:0 14px 16px}
  .footer-card{padding:14px}
  .foot-head{grid-template-columns:1fr; gap:8px}
  .foot-actions{justify-content:flex-start}
}

/* ===== Responsive ===== */
@media (max-width: 900px){
  .top{grid-template-columns:1fr; gap:8px; padding:18px 14px 6px}
  .schema{justify-self:start}
  .main{padding:8px 14px 18px}
  .toolbar{gap:8px}
  .toolbar > *{flex:1 1 100%}
  .input{min-width:0}
  .table-wrap{display:none}
  .m-list{display:grid; gap:12px}
  .ep-row{grid-template-columns:1fr}
}

/* Raw output style (when ?format=*) */
pre.json-out{
  margin:0;padding:20px;background:#0c0f13;color:#e6f1ff;font-family:var(--mono);font-size:13px
}
/* === Mobile overflow guards === */

/* 1) Never allow horizontal scrolling */
html, body, .page {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}

/* 2) Clip decorative glows in the hero (they're positioned outside the box) */
.top.hero .hero-inner {
  overflow: hidden; /* prevent glow from causing side-scroll */
}

/* 3) Isolate paint for sections that use absolute children (cheap, safe) */
.toolbar,
.endpoints,
.ep-code,
.footer-card {
  contain: paint;
}

/* Optional: make any long pre/code blocks wrap rather than push width */
pre, code {
  white-space: pre-wrap;
  word-break: break-word;
  overflow-wrap: anywhere;
  max-width: 100%;
}
